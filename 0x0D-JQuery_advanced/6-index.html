<!DOCTYPE html>
<html lang="en" dir="ltr">

    <head>

        <meta charset="utf-8" />
        <title>Task 6</title>

    </head>

    <body>
        <script src="https://code.jquery.com/jquery-3.6.0.slim.js" integrity="sha256-HwWONEZrpuoh951cQD1ov2HUK5zA5DwJ1DNUXaM6FsY=" crossorigin="anonymous"></script>
        <script src="https://code.jquery.com/jquery-3.6.0.min.js" integrity="sha256-/xUj+3OJU5yExlq6GSYGSHk7tPXikynS7ogEvDej/m4=" crossorigin="anonymous"></script>
        <script type="application/javascript">
            $(function() {
                function createFamilyTree() {
                    $("body").append("<table><thead><tr><th><th><tbody>")
                    $("th").first().text("Firstname").end().last().text("Lastname")
                }
                

                function addNewMember(firstName, lastName, position) {
                    content = ''
                    content += '<tr><td>' + firstName + '<td>'+  lastName + '<td>' + "(x)" + '</td></tr>';
                    if (position === "before") {
                        $("tbody").prepend(content);
                    }
                    else{
                        $("tbody").append(content);
                    }
                    $("td:last-child").css("background-color", "orange")
                    $("td:last-child" ).click(function() {
                    $(this).closest('tr').remove();
                    });
                }

                function createForm() {
                    inputContent = '<form><input><input><select><option value="before" selected>Before</option><option value="after">After</option></select><button>' + 'Submit' + '</form>';
                    $("body").append(inputContent);

                    $('form').submit(function(noRelod) {
                        noRelod.preventDefault();
                    });

                    $("button" ).click(function() {
                        addNewMember($("input").first().val(),  $("input:nth-of-type(2)").val(), $("select").val())
                        });
                }
                
                createForm();
                createFamilyTree();
                
            });
        </script>
    </body>
</html>